name       : musl
version    : 1.2.0
release    : 6
source     :
    - https://www.musl-libc.org/releases/musl-1.2.0.tar.gz : c6de7b191139142d3f9a7b5b702c9cae1b5ee6e7f57e582da9328629408fd4e8
license    : MIT
component  : programming.library
summary    : MIT implementation of the C Standard Library
description: |
    musl, pronounced like the word "mussel", is an MIT-licensed
    implementation of the standard C library targetting the Linux syscall
    API, suitable for use in a wide range of deployment environments. musl
    offers efficient static and dynamic linking support, lightweight code
    and low runtime overhead, strong fail-safe guarantees under correct
    usage, and correctness in the sense of standards conformance and
    safety. musl is built on the principle that these goals are best
    achieved through simple code that is easy to understand and maintain.
libsplit   : no
patterns   :
    - devel : /usr/bin
setup      : |
    %apply_patches
    unset CXXFLAGS CFLAGS LDFLAGS
    export CFLAGS="-fPIC -pipe -g2 -mtune=generic -march=x86-64"

    export LANGUAGE="C"
    export LC_ALL="C"
    export LANG="C"

    ./configure --prefix=/usr \
                --bindir=/usr/bin \
                --includedir=/usr/include/musl \
                --libdir=%libdir%/musl \
                --enable-visibility \
                --enable-optimize=auto \
                --syslibdir=/lib64 \
                CC=$CC \
                CFLAGS=$CFLAGS
    # --syslibdir= /usr/lib64 /usr/lib32
build      : |
    %make
install    : |
    %make_install
